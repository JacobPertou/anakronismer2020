function onReady(a){onReady.bindReady();if(onReady.isReady){a.call(window)}else{onReady.readyList.push(function(){return a.call(window)});return this}}onReady.isReady=false;onReady.readyList=[];onReady.ready=function(){if(!onReady.isReady){onReady.isReady=true;if(onReady.readyList){var b=onReady.readyList.length,a=0;for(;a<b;a+=1){onReady.readyList[a].call(window)}onReady.readyList=null}}};onReady.readyBound=false;onReady.bindReady=function(){if(onReady.readyBound){return}onReady.readyBound=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",onReady.ready,false)}if(window.addEventListener){window.addEventListener("load",onReady.ready,false)}else{if(window.attachEvent){window.attachEvent("onload",onReady.ready)}else{var a=window.onload;window.onload=function(){if(a){a.call(window)}onReady.ready()}}}};onReady.addEventHandler=function(a,d,c,b){b=b||window;if(a.addEventListener){a.addEventListener(d,function(){c.apply(b,arguments)},false)}else{if(a.attachEvent){a.attachEvent("on"+d,function(){c.apply(b,arguments)})}}};var UrlRewriter=function(){var c=navigator.userAgent.toLowerCase(),b=c.indexOf("mobile")!==-1||c.indexOf("iphone")!==-1||c.indexOf("blackberry")!==-1||(document.cookie.match(/is_mobile=true/)&&!document.cookie.match(/is_mobile=false/)),a;a=(function(){var i=this,h=document.getElementById("mainFrame"),f=window.location.hash,g,d,e;return{init:function(){var j=h.src,k=j.match(/iloapp.([^\/]+)\/blog\/([^\?\#]+)/);if(k){g=k[1];d=k[2];e="//iloapp."+g+"/blog/"+d+"?";if(b){window.location=this.hashToSrc(window.location.hash)}else{if(f===""){this.updateHash("home")}else{this.updateFrame()}if(window.history){onReady.addEventHandler(window,"popstate",function(l){if(f!==window.location.hash){this.updateFrame()}},this)}else{if("onhashchange" in window){onReady.addEventHandler(window,"hashchange",function(l){if(f!==window.location.hash){this.updateFrame()}},this)}}if(window.postMessage){onReady.addEventHandler(window,"message",function(l){this.updateHash(l.data)},this)}}}},updateFrame:function(){f=window.location.hash;var j=this.hashToSrc(f);if(h.src!==j){h.src=j}},updateHash:function(j){var k="#"+j;if(f!==k){f=k;if(window.history&&window.history.replaceState){window.history.replaceState({message:j},"",k)}else{window.location.hash=k}}},hashToSrc:function(m){var k=m.match(/^#home(\.(\d+))?$/),n=e,l,o,j;if(k){if(k[2]!==undefined){n+="Home&page="+k[2]}else{n+="Home"}}else{k=m.match(/^#(post|comments|category|user)?(\d+)(?:\.(\d+))?/);if(k){l=k[1];o=k[2];j=k[3];if(l==="comments"){n+="NewComment&post="+o}else{if(l==="post"||l==="category"||l==="user"){n+="Home&"+l+"="+o}}if(j!==undefined){n+="&page="+j}}switch(m){case"#about":case"#categories":case"#login":n+=m.charAt(1).toUpperCase()+m.slice(2);break}}return n}}}());UrlRewriter=function(){a.init();return a};return UrlRewriter()};onReady(function(){var a=new UrlRewriter()});